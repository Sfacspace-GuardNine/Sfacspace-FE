import AssistChip from "../AssistChip";

type TVulnerabilityItem = {
  number: number;
  name: string;
  cnnvd: string;
  cve: string;
  link: string;
  severity: string;
  cveNumber: string;
};

type TVulnerabilityTableProps = {
  items: TVulnerabilityItem[];
};

const tableHeader = [
  "일렬번호",
  "취약점 이름",
  "CNNVD 번호",
  "공식 링크",
  "위험 수준",
  "CVE 번호",
];

export default function VulnerabilityTable({
  items,
}: TVulnerabilityTableProps) {
  return (
    <div className="rounded-[20px] border border-[#C3C3C3] px-[40px] py-[6px]">
      <table className="w-full table-auto border-separate border-spacing-y-[54px]">
        <thead>
          <tr>
            {tableHeader.map((content, index) => (
              <th key={index}>
                <div className="flex justify-center">
                  <AssistChip
                    text={content}
                    className="bg-white text-[17.36px]"
                  />
                </div>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {items.map((item) => (
            <tr
              key={item.number}
              className="text-center text-[15.82px] text-[#3F3F3F]"
            >
              <td className="max-w-[230px] break-words">{item.number}</td>
              <td className="max-w-[230px] break-words">{item.name}</td>
              <td className="max-w-[230px] break-words">{item.cnnvd}</td>
              <td className="max-w-[230px] break-words">
                <a href={item.link} target="_blank" rel="noopener noreferrer">
                  {item.cve}
                </a>
              </td>
              <td className="max-w-[230px] break-words">{item.severity}</td>
              <td className="max-w-[230px] break-words">{item.cveNumber}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}
